<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="471px" preserveAspectRatio="none" style="width:1086px;height:471px;background:#FFFFFF;" version="1.1" viewBox="0 0 1086 471" width="1086px" zoomAndPan="magnify"><defs/><g><rect fill="#091F2C" height="37.6094" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:3.0;" width="158" x="10" y="215.7031"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="20" y="240.2363">Synapse Link for SQL</text><rect fill="#FFB900" height="37.6094" rx="12.5" ry="12.5" style="stroke:#FFB900;stroke-width:3.0;" width="107" x="218" y="40.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="228" y="64.752">1) What is it?</text><rect fill="#FFB900" height="37.6094" rx="12.5" ry="12.5" style="stroke:#FFB900;stroke-width:3.0;" width="65" x="375" y="40.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="385" y="64.752">What?</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="264" x="493" y="25.5332">Azure SQL Database or SQL Server 2022</text><path d="M440,59.0234 L450,59.0234 C465,59.0234 465,19.8047 480,19.8047 L490,19.8047 " fill="none" style="stroke:#FFB900;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="306" x="493" y="45.1426">Not supported for Azure SQL Managed Instance.</text><path d="M440,59.0234 L450,59.0234 C465,59.0234 465,39.4141 480,39.4141 L490,39.4141 " fill="none" style="stroke:#FFB900;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="491" x="493" y="64.752">Azure Synapse Link for SQL replicates the table data to a dedicated SQL pool</text><path d="M440,59.0234 L450,59.0234 C465,59.0234 465,59.0234 480,59.0234 L490,59.0234 " fill="none" style="stroke:#FFB900;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="581" x="493" y="84.3613">Queries in the dedicated SQL pool, or connected to as an external source from a Spark pool</text><path d="M440,59.0234 L450,59.0234 C465,59.0234 465,78.6328 480,78.6328 L490,78.6328 " fill="none" style="stroke:#FFB900;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="493" y="103.9707">Uses change feed</text><path d="M440,59.0234 L450,59.0234 C465,59.0234 465,98.2422 480,98.2422 L490,98.2422 " fill="none" style="stroke:#FFB900;stroke-width:3.0;"/><path d="M325,59.0234 L335,59.0234 C350,59.0234 350,59.0234 365,59.0234 L375,59.0234 " fill="none" style="stroke:#FFB900;stroke-width:3.0;"/><path d="M168,234.5078 L178,234.5078 C193,234.5078 193,59.0234 208,59.0234 L218,59.0234 " fill="none" style="stroke:#181818;stroke-width:3.0;"/><rect fill="#F4364C" height="37.6094" rx="12.5" ry="12.5" style="stroke:#F4364C;stroke-width:3.0;" width="174" x="218" y="167.6797"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="228" y="192.2129">2) Azure SQL Database</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="445" y="133.3848">Configure Azure SQL Database</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219" x="697" y="123.5801">System assigned managed identity</text><path d="M644,127.6563 L654,127.6563 C669,127.6563 669,117.8516 684,117.8516 L694,117.8516 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="697" y="143.1895">Firewall rules</text><path d="M644,127.6563 L654,127.6563 C669,127.6563 669,137.4609 684,137.4609 L694,137.4609 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M392,186.4844 L402,186.4844 C417,186.4844 417,127.6563 432,127.6563 L442,127.6563 " fill="none" style="stroke:#F4364C;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179" x="445" y="162.7988">Prepare the target SQL pool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="677" y="162.7988">CREATE SCHEMA</text><path d="M624,157.0703 L634,157.0703 C649,157.0703 649,157.0703 664,157.0703 L674,157.0703 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M392,186.4844 L402,186.4844 C417,186.4844 417,157.0703 432,157.0703 L442,157.0703 " fill="none" style="stroke:#F4364C;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="445" y="221.627">Create a link connection</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="218" x="651" y="182.4082">1. Select or create a linked service</text><path d="M598,215.8984 L608,215.8984 C623,215.8984 623,176.6797 638,176.6797 L648,176.6797 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="651" y="202.0176">2. Select the tables</text><path d="M598,215.8984 L608,215.8984 C623,215.8984 623,196.2891 638,196.2891 L648,196.2891 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="249" x="651" y="221.627">3. Select the target dedicated SQL pool</text><path d="M598,215.8984 L608,215.8984 C623,215.8984 623,215.8984 638,215.8984 L648,215.8984 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="225" x="651" y="241.2363">4. Specify the number of CPU cores</text><path d="M598,215.8984 L608,215.8984 C623,215.8984 623,235.5078 638,235.5078 L648,235.5078 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="371" x="651" y="260.8457">5. VARBINARY(MAX) need to use HEAP (unindexed tables)</text><path d="M598,215.8984 L608,215.8984 C623,215.8984 623,255.1172 638,255.1172 L648,255.1172 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M392,186.4844 L402,186.4844 C417,186.4844 417,215.8984 432,215.8984 L442,215.8984 " fill="none" style="stroke:#F4364C;stroke-width:3.0;"/><path d="M168,234.5078 L178,234.5078 C193,234.5078 193,186.4844 208,186.4844 L218,186.4844 " fill="none" style="stroke:#181818;stroke-width:3.0;"/><rect fill="#C5B4E3" height="37.6094" rx="12.5" ry="12.5" style="stroke:#C5B4E3;stroke-width:3.0;" width="151" x="218" y="343.1641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="228" y="367.6973">3) SQL Server 2022</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="203" x="422" y="280.4551">1. Create an ADLS landing zone</text><path d="M369,361.9688 L379,361.9688 C394,361.9688 394,274.7266 409,274.7266 L419,274.7266 " fill="none" style="stroke:#C5B4E3;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="324" x="422" y="300.0645">2. Create a master key in the SQL Server database</text><path d="M369,361.9688 L379,361.9688 C394,361.9688 394,294.3359 409,294.3359 L419,294.3359 " fill="none" style="stroke:#C5B4E3;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200" x="422" y="319.6738">3. Create a dedicated SQL pool</text><path d="M369,361.9688 L379,361.9688 C394,361.9688 394,313.9453 409,313.9453 L419,313.9453 " fill="none" style="stroke:#C5B4E3;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="351" x="422" y="339.2832">4. Create a linked service for the SQL Server source db</text><path d="M369,361.9688 L379,361.9688 C394,361.9688 394,333.5547 409,333.5547 L419,333.5547 " fill="none" style="stroke:#C5B4E3;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="254" x="422" y="358.8926">5. Create a linked service for your ADLS</text><path d="M369,361.9688 L379,361.9688 C394,361.9688 394,353.1641 409,353.1641 L419,353.1641 " fill="none" style="stroke:#C5B4E3;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="319" x="422" y="378.502">6. Create a link connection for Azure Synapse Link</text><path d="M369,361.9688 L379,361.9688 C394,361.9688 394,372.7734 409,372.7734 L419,372.7734 " fill="none" style="stroke:#C5B4E3;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="558" x="422" y="398.1113">7. Tables are initialized by copying a .parquet file for each source table to a landing zone</text><path d="M369,361.9688 L379,361.9688 C394,361.9688 394,392.3828 409,392.3828 L419,392.3828 " fill="none" style="stroke:#C5B4E3;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="457" x="422" y="417.7207">8. From where the data is imported into tables in the dedicated SQL pool</text><path d="M369,361.9688 L379,361.9688 C394,361.9688 394,411.9922 409,411.9922 L419,411.9922 " fill="none" style="stroke:#C5B4E3;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="589" x="422" y="437.3301">9. Subsequently, the change feed process copies all changes as .csv files to the landing zone</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="262" x="422" y="454.9395">where they're applied to the target tables.</text><path d="M369,361.9688 L379,361.9688 C394,361.9688 394,440.4063 409,440.4063 L419,440.4063 " fill="none" style="stroke:#C5B4E3;stroke-width:3.0;"/><path d="M168,234.5078 L178,234.5078 C193,234.5078 193,361.9688 208,361.9688 L218,361.9688 " fill="none" style="stroke:#181818;stroke-width:3.0;"/><!--MD5=[7d918804cec55b1ff2927d34e1e40cb6]
@startmindmap
<style>
:depth(0) {
    BackgroundColor #091f2c
    FontColor #ffffff
    LineThickness 3.0
}
.topic1 {
    BackgroundColor #ffb900
    LineColor #ffb900
    LineThickness 3.0
    FontColor #000000
}
.topic2 {
    BackgroundColor #f4364c
    LineColor #f4364c
    LineThickness 3.0
    FontColor #ffffff
}
.topic3 {
    BackgroundColor #c5b4e3
    LineColor #c5b4e3
    LineThickness 3.0
    FontColor #000000
}
.topic4 {
    BackgroundColor #e1d3c7
    LineColor #e1d3c7
    LineThickness 3.0
    FontColor #000000
}
.topic5 {
    BackgroundColor #07641d
    LineColor #07641d
    LineThickness 3.0
    FontColor #ffffff
}
</style>
+ Synapse Link for SQL
++ 1) What is it? <<topic1>>
+++ What? <<topic1>>
++++_ Azure SQL Database or SQL Server 2022
++++_ Not supported for Azure SQL Managed Instance.
++++_ Azure Synapse Link for SQL replicates the table data to a dedicated SQL pool
++++_ Queries in the dedicated SQL pool, or connected to as an external source from a Spark pool
++++_ Uses change feed
++ 2) Azure SQL Database <<topic2>>
+++_ Configure Azure SQL Database
++++_ System assigned managed identity
++++_ Firewall rules
+++_ Prepare the target SQL pool
++++_ CREATE SCHEMA
+++_ Create a link connection
++++_ 1. Select or create a linked service
++++_ 2. Select the tables
++++_ 3. Select the target dedicated SQL pool
++++_ 4. Specify the number of CPU cores
++++_ 5. VARBINARY(MAX) need to use HEAP (unindexed tables)
++ 3) SQL Server 2022 <<topic3>>
+++_ 1. Create an ADLS landing zone
+++_ 2. Create a master key in the SQL Server database
+++_ 3. Create a dedicated SQL pool
+++_ 4. Create a linked service for the SQL Server source db
+++_ 5. Create a linked service for your ADLS
+++_ 6. Create a link connection for Azure Synapse Link
+++_ 7. Tables are initialized by copying a .parquet file for each source table to a landing zone
+++_ 8. From where the data is imported into tables in the dedicated SQL pool
+++_ 9. Subsequently, the change feed process copies all changes as .csv files to the landing zone \nwhere they're applied to the target tables.
@endmindmap

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>