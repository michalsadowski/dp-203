<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="713px" preserveAspectRatio="none" style="width:1094px;height:713px;background:#FFFFFF;" version="1.1" viewBox="0 0 1094 713" width="1094px" zoomAndPan="magnify"><defs/><g><rect fill="#091F2C" height="37.6094" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:3.0;" width="123" x="10" y="336.8242"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="20" y="361.3574">Data warehouse</text><rect fill="#FFB900" height="37.6094" rx="12.5" ry="12.5" style="stroke:#FFB900;stroke-width:3.0;" width="85" x="183" y="77.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="193" y="102.4473">1) Design</text><rect fill="#FFB900" height="37.6094" rx="12.5" ry="12.5" style="stroke:#FFB900;stroke-width:3.0;" width="132" x="318" y="20.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="328" y="45.1426">Dimension tables</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="222" x="503" y="25.5332">Surrogate key (unique to the DWH)</text><path d="M450,39.4141 L460,39.4141 C475,39.4141 475,19.8047 490,19.8047 L500,19.8047 " fill="none" style="stroke:#FFB900;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="426" x="503" y="45.1426">Alternate key (natural key, business key, from transactional system)</text><path d="M450,39.4141 L460,39.4141 C475,39.4141 475,39.4141 490,39.4141 L500,39.4141 " fill="none" style="stroke:#FFB900;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="503" y="64.752">Slowly changing dimensions</text><path d="M450,39.4141 L460,39.4141 C475,39.4141 475,59.0234 490,59.0234 L500,59.0234 " fill="none" style="stroke:#FFB900;stroke-width:3.0;"/><path d="M268,96.7188 L278,96.7188 C293,96.7188 293,39.4141 308,39.4141 L318,39.4141 " fill="none" style="stroke:#FFB900;stroke-width:3.0;"/><rect fill="#FFB900" height="37.6094" rx="12.5" ry="12.5" style="stroke:#FFB900;stroke-width:3.0;" width="94" x="318" y="78.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="328" y="102.752">Fact tables</text><path d="M268,96.7188 L278,96.7188 C293,96.7188 293,97.0234 308,97.0234 L318,97.0234 " fill="none" style="stroke:#FFB900;stroke-width:3.0;"/><rect fill="#FFB900" height="37.6094" rx="12.5" ry="12.5" style="stroke:#FFB900;stroke-width:3.0;" width="233" x="318" y="135.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="209" x="328" y="160.3613">Data warehouse schema designs</text><path d="M268,96.7188 L278,96.7188 C293,96.7188 293,154.6328 308,154.6328 L318,154.6328 " fill="none" style="stroke:#FFB900;stroke-width:3.0;"/><path d="M133,355.6289 L143,355.6289 C158,355.6289 158,96.7188 173,96.7188 L183,96.7188 " fill="none" style="stroke:#181818;stroke-width:3.0;"/><rect fill="#F4364C" height="37.6094" rx="12.5" ry="12.5" style="stroke:#F4364C;stroke-width:3.0;" width="126" x="183" y="292.0938"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="193" y="316.627">2) Create tables</text><rect fill="#F4364C" height="37.6094" rx="12.5" ry="12.5" style="stroke:#F4364C;stroke-width:3.0;" width="219" x="359" y="203.8516"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195" x="369" y="228.3848">Creating a dedicated SQL pool</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="631" y="198.9707">A unique name</text><path d="M578,222.6563 L588,222.6563 C603,222.6563 603,193.2422 618,193.2422 L628,193.2422 " fill="none" style="stroke:#F4364C;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="275" x="631" y="218.5801">A performance level [DW100c - DW30000c]</text><path d="M578,222.6563 L588,222.6563 C603,222.6563 603,212.8516 618,212.8516 L628,212.8516 " fill="none" style="stroke:#F4364C;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234" x="631" y="238.1895">Empty pool or restore from a backup.</text><path d="M578,222.6563 L588,222.6563 C603,222.6563 603,232.4609 618,232.4609 L628,232.4609 " fill="none" style="stroke:#F4364C;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="279" x="631" y="257.7988">The collation of the SQL pool (can't change)</text><path d="M578,222.6563 L588,222.6563 C603,222.6563 603,252.0703 618,252.0703 L628,252.0703 " fill="none" style="stroke:#F4364C;stroke-width:3.0;"/><path d="M309,310.8984 L319,310.8984 C334,310.8984 334,222.6563 349,222.6563 L359,222.6563 " fill="none" style="stroke:#F4364C;stroke-width:3.0;"/><rect fill="#F4364C" height="37.6094" rx="12.5" ry="12.5" style="stroke:#F4364C;stroke-width:3.0;" width="237" x="359" y="331.3125"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="369" y="355.8457">Considerations for creating tables</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="224" x="649" y="277.4082">Fact, Dimension and Staging tables</text><path d="M596,350.1172 L606,350.1172 C621,350.1172 621,271.6797 636,271.6797 L646,271.6797 " fill="none" style="stroke:#F4364C;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="649" y="297.0176">Data integrity constraints</text><path d="M596,350.1172 L606,350.1172 C621,350.1172 621,291.2891 636,291.2891 L646,291.2891 " fill="none" style="stroke:#F4364C;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="649" y="316.627">Indexes</text><path d="M596,350.1172 L606,350.1172 C621,350.1172 621,310.8984 636,310.8984 L646,310.8984 " fill="none" style="stroke:#F4364C;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="649" y="336.2363">Distribution</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="773" y="316.627">Hash (fact tables)</text><path d="M720,330.5078 L730,330.5078 C745,330.5078 745,310.8984 760,310.8984 L770,310.8984 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181" x="773" y="336.2363">Round-robin (staging tables)</text><path d="M720,330.5078 L730,330.5078 C745,330.5078 745,330.5078 760,330.5078 L770,330.5078 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187" x="773" y="355.8457">Replicated (dimension tables)</text><path d="M720,330.5078 L730,330.5078 C745,330.5078 745,350.1172 760,350.1172 L770,350.1172 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M596,350.1172 L606,350.1172 C621,350.1172 621,330.5078 636,330.5078 L646,330.5078 " fill="none" style="stroke:#F4364C;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="649" y="375.4551">Creating dimension tables</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="866" y="375.4551">Time dimension tables</text><path d="M813,369.7266 L823,369.7266 C838,369.7266 838,369.7266 853,369.7266 L863,369.7266 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M596,350.1172 L606,350.1172 C621,350.1172 621,369.7266 636,369.7266 L646,369.7266 " fill="none" style="stroke:#F4364C;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="649" y="395.0645">Creating fact tables</text><path d="M596,350.1172 L606,350.1172 C621,350.1172 621,389.3359 636,389.3359 L646,389.3359 " fill="none" style="stroke:#F4364C;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="649" y="414.6738">Creating staging tables</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234" x="848" y="395.0645">CREATE EXTERNAL DATA SOURCE</text><path d="M795,408.9453 L805,408.9453 C820,408.9453 820,389.3359 835,389.3359 L845,389.3359 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="227" x="848" y="414.6738">CREATE EXTERNAL FILE FORMAT</text><path d="M795,408.9453 L805,408.9453 C820,408.9453 820,408.9453 835,408.9453 L845,408.9453 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179" x="848" y="434.2832">CREATE EXTERNAL TABLE</text><path d="M795,408.9453 L805,408.9453 C820,408.9453 820,428.5547 835,428.5547 L845,428.5547 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M596,350.1172 L606,350.1172 C621,350.1172 621,408.9453 636,408.9453 L646,408.9453 " fill="none" style="stroke:#F4364C;stroke-width:3.0;"/><path d="M309,310.8984 L319,310.8984 C334,310.8984 334,350.1172 349,350.1172 L359,350.1172 " fill="none" style="stroke:#F4364C;stroke-width:3.0;"/><path d="M133,355.6289 L143,355.6289 C158,355.6289 158,310.8984 173,310.8984 L183,310.8984 " fill="none" style="stroke:#181818;stroke-width:3.0;"/><rect fill="#C5B4E3" height="37.6094" rx="12.5" ry="12.5" style="stroke:#C5B4E3;stroke-width:3.0;" width="115" x="183" y="482.3711"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="193" y="506.9043">3) Load tables</text><rect fill="#C5B4E3" height="37.6094" rx="12.5" ry="12.5" style="stroke:#C5B4E3;stroke-width:3.0;" width="99" x="348" y="448.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="358" y="472.8926">COPY INTO</text><path d="M298,501.1758 L308,501.1758 C323,501.1758 323,467.1641 338,467.1641 L348,467.1641 " fill="none" style="stroke:#C5B4E3;stroke-width:3.0;"/><rect fill="#C5B4E3" height="37.6094" rx="12.5" ry="12.5" style="stroke:#C5B4E3;stroke-width:3.0;" width="119" x="348" y="505.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="358" y="530.502">Considerations</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="242" x="520" y="501.0879">Source -&gt; Data Lake -&gt; Staging tables</text><path d="M467,524.7734 L477,524.7734 C492,524.7734 492,495.3594 507,495.3594 L517,495.3594 " fill="none" style="stroke:#C5B4E3;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="527" x="520" y="520.6973">For dimension tables: update or insert new rows and generate surrogate key values</text><path d="M467,524.7734 L477,524.7734 C492,524.7734 492,514.9688 507,514.9688 L517,514.9688 " fill="none" style="stroke:#C5B4E3;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="411" x="520" y="540.3066">For fact tables: look up the surrogate keys for related dimensions</text><path d="M467,524.7734 L477,524.7734 C492,524.7734 492,534.5781 507,534.5781 L517,534.5781 " fill="none" style="stroke:#C5B4E3;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="295" x="520" y="559.916">Update indexes and table distribution statistics.</text><path d="M467,524.7734 L477,524.7734 C492,524.7734 492,554.1875 507,554.1875 L517,554.1875 " fill="none" style="stroke:#C5B4E3;stroke-width:3.0;"/><path d="M298,501.1758 L308,501.1758 C323,501.1758 323,524.7734 338,524.7734 L348,524.7734 " fill="none" style="stroke:#C5B4E3;stroke-width:3.0;"/><path d="M133,355.6289 L143,355.6289 C158,355.6289 158,501.1758 173,501.1758 L183,501.1758 " fill="none" style="stroke:#181818;stroke-width:3.0;"/><rect fill="#E1D3C7" height="37.6094" rx="12.5" ry="12.5" style="stroke:#E1D3C7;stroke-width:3.0;" width="197" x="183" y="613.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="193" y="638.3535">4) Query a data warehouse</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="293" x="433" y="579.5254">Aggregating measures by dimension attributes</text><path d="M380,632.625 L390,632.625 C405,632.625 405,573.7969 420,573.7969 L430,573.7969 " fill="none" style="stroke:#E1D3C7;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178" x="433" y="599.1348">Joins in a snowflake schema</text><path d="M380,632.625 L390,632.625 C405,632.625 405,593.4063 420,593.4063 L430,593.4063 " fill="none" style="stroke:#E1D3C7;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="433" y="648.1582">Using ranking functions</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="633" y="618.7441">ROW_NUMBER</text><path d="M580,642.4297 L590,642.4297 C605,642.4297 605,613.0156 620,613.0156 L630,613.0156 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="633" y="638.3535">RANK</text><path d="M580,642.4297 L590,642.4297 C605,642.4297 605,632.625 620,632.625 L630,632.625 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="633" y="657.9629">DENSE_RANK</text><path d="M580,642.4297 L590,642.4297 C605,642.4297 605,652.2344 620,652.2344 L630,652.2344 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="633" y="677.5723">NTILE</text><path d="M580,642.4297 L590,642.4297 C605,642.4297 605,671.8438 620,671.8438 L630,671.8438 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><path d="M380,632.625 L390,632.625 C405,632.625 405,642.4297 420,642.4297 L430,642.4297 " fill="none" style="stroke:#E1D3C7;stroke-width:3.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="433" y="697.1816">Retrieving an approximate count</text><path d="M380,632.625 L390,632.625 C405,632.625 405,691.4531 420,691.4531 L430,691.4531 " fill="none" style="stroke:#E1D3C7;stroke-width:3.0;"/><path d="M133,355.6289 L143,355.6289 C158,355.6289 158,632.625 173,632.625 L183,632.625 " fill="none" style="stroke:#181818;stroke-width:3.0;"/><!--MD5=[ea59a374edcf1200c68ea648600c6724]
@startmindmap
<style>
:depth(0) {
    BackgroundColor #091f2c
    FontColor #ffffff
    LineThickness 3.0
}
.topic1 {
    BackgroundColor #ffb900
    LineColor #ffb900
    LineThickness 3.0
    FontColor #000000
}
.topic2 {
    BackgroundColor #f4364c
    LineColor #f4364c
    LineThickness 3.0
    FontColor #ffffff
}
.topic3 {
    BackgroundColor #c5b4e3
    LineColor #c5b4e3
    LineThickness 3.0
    FontColor #000000
}
.topic4 {
    BackgroundColor #e1d3c7
    LineColor #e1d3c7
    LineThickness 3.0
    FontColor #000000
}
.topic5 {
    BackgroundColor #07641d
    LineColor #07641d
    LineThickness 3.0
    FontColor #ffffff
}
</style>
+ Data warehouse
++ 1) Design <<topic1>>
+++ Dimension tables <<topic1>>
++++_ Surrogate key (unique to the DWH)
++++_ Alternate key (natural key, business key, from transactional system)
++++_ Slowly changing dimensions
+++ Fact tables <<topic1>>
+++ Data warehouse schema designs <<topic1>>
++ 2) Create tables <<topic2>>
+++ Creating a dedicated SQL pool <<topic2>>
++++_ A unique name
++++_ A performance level [DW100c - DW30000c]
++++_ Empty pool or restore from a backup.
++++_ The collation of the SQL pool (can't change)
+++ Considerations for creating tables <<topic2>>
++++_ Fact, Dimension and Staging tables
++++_ Data integrity constraints
++++_ Indexes
++++_ Distribution
+++++_ Hash (fact tables)
+++++_ Round-robin (staging tables)
+++++_ Replicated (dimension tables)
++++_ Creating dimension tables
+++++_ Time dimension tables
++++_ Creating fact tables
++++_ Creating staging tables
+++++_ CREATE EXTERNAL DATA SOURCE
+++++_ CREATE EXTERNAL FILE FORMAT
+++++_ CREATE EXTERNAL TABLE
++ 3) Load tables <<topic3>>
+++ COPY INTO <<topic3>>
+++ Considerations <<topic3>>
++++_ Source -> Data Lake -> Staging tables
++++_ For dimension tables: update or insert new rows and generate surrogate key values
++++_ For fact tables: look up the surrogate keys for related dimensions
++++_ Update indexes and table distribution statistics.
++ 4) Query a data warehouse <<topic4>>
+++_ Aggregating measures by dimension attributes
+++_ Joins in a snowflake schema
+++_ Using ranking functions
++++_ ROW_NUMBER
++++_ RANK
++++_ DENSE_RANK
++++_ NTILE
+++_ Retrieving an approximate count
@endmindmap

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>